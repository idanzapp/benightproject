<ion-content>
    <ion-item (click)="goto()" color="tertiary">
      <ion-avatar slot="start">
        <ion-img src="assets/icon/favicon.png"></ion-img>
      </ion-avatar>
      <ion-label>
        <h2>Crear Nuevo Plan</h2>
      </ion-label>
      <ion-icon name="add-circle"></ion-icon>
    </ion-item>
    <ion-list lines="none">
      <ion-item lines="none" class="relative" *ngFor="let plan of plans$ | async; trackBy: trackById" (click)="goto(event.uid)">
        <ion-img class="background" [src]="plan.eventPhotoURL"></ion-img>
        <ion-label *ngIf="plan.gaugin===plan.userFlow " class="corner-ribbon top-right">Completo</ion-label>
        <ion-label *ngIf="plan.isPrivate" class="corner-ribbon">Privado</ion-label>
        <div class="crono">
          <ion-grid>
            <ion-row>
              <ion-col *ngIf="plan.activateCountdown">
                <countdown date="plan.nextDate" class="trans"></countdown>
              </ion-col>
              <ion-col *ngIf="plan.flowBreakPoint === -1 || plan.userFlow >= plan.flowBreakPoint">
                <ion-grid class="trans">
                  <ion-row>
                    <ion-col>
                      <ion-avatar style="width: 3.5vw; height: 3.5vh;">
                        <ion-img src="assets/img/avatar.png"></ion-img>
                      </ion-avatar>
                    </ion-col>
                    <ion-col align-self-center>
                      <ion-label>{{plan.userFlow}}</ion-label>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-col>
            </ion-row>
          </ion-grid>
        </div>
        <ion-label class="trans name">{{plan.displayName}}</ion-label>
        <div class="date">
          <ion-grid>
            <ion-row>
              <ion-col>
                <ion-label class="trans">{{plan.dateString}}</ion-label>
              </ion-col>
              <ion-col>
                <ion-label class="trans">{{plan.durationString}}</ion-label>
              </ion-col>
            </ion-row>
          </ion-grid>
        </div>
        <ion-label class="trans address">{{plan.locationList[0].displayName}}</ion-label>
        <ion-label *ngIf="!free" class="trans price">{{plan.price}} â‚¬</ion-label>
        <ion-label *ngIf="free" class="trans price">GRATIS!!</ion-label>
      </ion-item>
    </ion-list>
  </ion-content>